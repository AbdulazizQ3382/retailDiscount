2025-08-30 22:28:58 [main] INFO  s.s.r.RetailDiscountApplication - Starting RetailDiscountApplication using Java 21.0.1 with PID 35444 (C:\Users\PC\IdeaProjects\retailDiscount\target\classes started by PC in C:\Users\PC\IdeaProjects\retailDiscount)
2025-08-30 22:28:58 [main] INFO  s.s.r.RetailDiscountApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-30 22:28:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-30 22:28:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 2 MongoDB repository interfaces.
2025-08-30 22:28:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-30 22:28:59 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-30 22:28:59 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-30 22:28:59 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-30 22:28:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 930 ms
2025-08-30 22:28:59 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-data", "version": "5.5.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/21.0.1+12-29"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='root', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@12be4f83, com.mongodb.Jep395RecordCodecProvider@eb1d475, com.mongodb.KotlinCodecProvider@389008d1]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=3000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=3000, readTimeoutMS=3000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=20, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=30000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-08-30 22:28:59 [cluster-ClusterId{value='68b350fb3b5c760d696f23d9', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=12770700, minRoundTripTimeNanos=0}
2025-08-30 22:29:00 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-08-30 22:29:00 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 13190189-d90c-4478-8152-944282a07ddc

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-30 22:29:00 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-08-30 22:29:00 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-30 22:29:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-30 22:29:00 [main] INFO  s.s.r.RetailDiscountApplication - Started RetailDiscountApplication in 2.259 seconds (process running for 2.699)
2025-08-30 22:29:00 [main] INFO  s.s.r.config.MongoInitializer - Starting MongoDB collections and documents initialization...
2025-08-30 22:29:00 [main] DEBUG o.s.data.mongodb.core.MongoTemplate - Executing count: {} in collection: bills
2025-08-30 22:29:00 [main] INFO  s.s.r.config.MongoInitializer - Bills collection already exists with data
2025-08-30 22:29:00 [main] DEBUG o.s.data.mongodb.core.MongoTemplate - Executing count: {} in collection: clients
2025-08-30 22:29:00 [main] INFO  s.s.r.config.MongoInitializer - Clients collection already exists with data
2025-08-30 22:29:00 [main] INFO  s.s.r.config.MongoInitializer - MongoDB initialization completed!
2025-08-30 22:29:01 [RMI TCP Connection(4)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-30 22:29:01 [RMI TCP Connection(4)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-30 22:29:01 [RMI TCP Connection(4)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-30 22:29:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/bills
2025-08-30 22:29:18 [http-nio-8080-exec-1] ERROR s.s.r.config.JwtAuthenticationFilter - Unable to get JWT Token or JWT Token has expired
2025-08-30 22:29:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-30 22:29:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-08-30 22:29:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-30 22:29:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-30 22:29:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-30 22:29:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/bills
2025-08-30 22:29:19 [http-nio-8080-exec-4] ERROR s.s.r.config.JwtAuthenticationFilter - Unable to get JWT Token or JWT Token has expired
2025-08-30 22:29:19 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-30 22:29:19 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-08-30 22:29:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-30 22:29:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-30 22:29:19 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-30 22:29:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/authenticate
2025-08-30 22:29:26 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-30 22:29:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/authenticate
2025-08-30 22:29:26 [http-nio-8080-exec-5] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: AuthenticationController.authenticate() with arguments: [sa.store.retaildiscount.dto.AuthenticationRequest@553f90b5]
2025-08-30 22:29:26 [http-nio-8080-exec-5] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: AuthenticationService.authenticate() with arguments: [sa.store.retaildiscount.dto.AuthenticationRequest@553f90b5]
2025-08-30 22:29:26 [http-nio-8080-exec-5] DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "username" : "admin"}, Fields: {}, Sort: {}
2025-08-30 22:29:26 [http-nio-8080-exec-5] DEBUG o.s.data.mongodb.core.MongoTemplate - find using query: { "username" : "admin"} fields: Document{{}} sort: null for class: class sa.store.retaildiscount.entity.Client in collection: clients
2025-08-30 22:29:26 [http-nio-8080-exec-5] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: AuthenticationService.authenticate() with result: sa.store.retaildiscount.dto.AuthenticationResponse@329541b0 | Execution time: 95 ms
2025-08-30 22:29:26 [http-nio-8080-exec-5] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: AuthenticationController.authenticate() with result: <200 OK OK,sa.store.retaildiscount.dto.AuthenticationResponse@329541b0,[]> | Execution time: 96 ms
2025-08-30 22:29:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/bills
2025-08-30 22:29:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/bills
2025-08-30 22:29:43 [http-nio-8080-exec-3] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.calculateDiscount() with arguments: [sa.store.retaildiscount.dto.BillRequest@68189321]
2025-08-30 22:29:43 [http-nio-8080-exec-3] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: DiscountService.processBill() with arguments: [sa.store.retaildiscount.dto.BillRequest@68189321]
2025-08-30 22:29:43 [http-nio-8080-exec-3] ERROR s.s.r.aspect.LoggingAspect - EXCEPTION: Error in DiscountService.processBill() - DateTimeParseException: Text '2023-13-40T25:61:61' could not be parsed, unparsed text found at index 10
2025-08-30 22:29:43 [http-nio-8080-exec-3] ERROR s.s.r.aspect.LoggingAspect - <== Exception in method: DiscountService.processBill() | Execution time: 2 ms | Exception: Text '2023-13-40T25:61:61' could not be parsed, unparsed text found at index 10
2025-08-30 22:29:43 [http-nio-8080-exec-3] ERROR s.s.r.aspect.LoggingAspect - EXCEPTION: Error in BillController.calculateDiscount() - DateTimeParseException: Text '2023-13-40T25:61:61' could not be parsed, unparsed text found at index 10
2025-08-30 22:29:43 [http-nio-8080-exec-3] ERROR s.s.r.aspect.LoggingAspect - <== Exception in method: BillController.calculateDiscount() | Execution time: 2 ms | Exception: Text '2023-13-40T25:61:61' could not be parsed, unparsed text found at index 10
2025-08-30 22:29:43 [http-nio-8080-exec-3] WARN  s.s.r.e.GlobalExceptionHandler - Invalid date/time format provided: 2023-13-40T25:61:61
2025-08-30 22:29:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/bills
2025-08-30 22:29:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/bills
2025-08-30 22:29:52 [http-nio-8080-exec-7] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.calculateDiscount() with arguments: [sa.store.retaildiscount.dto.BillRequest@32a378e6]
2025-08-30 22:29:52 [http-nio-8080-exec-7] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: DiscountService.processBill() with arguments: [sa.store.retaildiscount.dto.BillRequest@32a378e6]
2025-08-30 22:29:52 [http-nio-8080-exec-7] ERROR s.s.r.aspect.LoggingAspect - EXCEPTION: Error in DiscountService.processBill() - DateTimeParseException: Text '2023-13-40' could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 13
2025-08-30 22:29:52 [http-nio-8080-exec-7] ERROR s.s.r.aspect.LoggingAspect - <== Exception in method: DiscountService.processBill() | Execution time: 0 ms | Exception: Text '2023-13-40' could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 13
2025-08-30 22:29:52 [http-nio-8080-exec-7] ERROR s.s.r.aspect.LoggingAspect - EXCEPTION: Error in BillController.calculateDiscount() - DateTimeParseException: Text '2023-13-40' could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 13
2025-08-30 22:29:52 [http-nio-8080-exec-7] ERROR s.s.r.aspect.LoggingAspect - <== Exception in method: BillController.calculateDiscount() | Execution time: 1 ms | Exception: Text '2023-13-40' could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 13
2025-08-30 22:29:52 [http-nio-8080-exec-7] WARN  s.s.r.e.GlobalExceptionHandler - Invalid date/time format provided: 2023-13-40
2025-08-30 22:30:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/bills
2025-08-30 22:30:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/bills
2025-08-30 22:30:02 [http-nio-8080-exec-9] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.calculateDiscount() with arguments: [sa.store.retaildiscount.dto.BillRequest@6233456b]
2025-08-30 22:30:02 [http-nio-8080-exec-9] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: DiscountService.processBill() with arguments: [sa.store.retaildiscount.dto.BillRequest@6233456b]
2025-08-30 22:30:02 [http-nio-8080-exec-9] ERROR s.s.r.aspect.LoggingAspect - EXCEPTION: Error in DiscountService.processBill() - DateTimeParseException: Text '2023-13-20' could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 13
2025-08-30 22:30:02 [http-nio-8080-exec-9] ERROR s.s.r.aspect.LoggingAspect - <== Exception in method: DiscountService.processBill() | Execution time: 0 ms | Exception: Text '2023-13-20' could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 13
2025-08-30 22:30:02 [http-nio-8080-exec-9] ERROR s.s.r.aspect.LoggingAspect - EXCEPTION: Error in BillController.calculateDiscount() - DateTimeParseException: Text '2023-13-20' could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 13
2025-08-30 22:30:02 [http-nio-8080-exec-9] ERROR s.s.r.aspect.LoggingAspect - <== Exception in method: BillController.calculateDiscount() | Execution time: 1 ms | Exception: Text '2023-13-20' could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 13
2025-08-30 22:30:02 [http-nio-8080-exec-9] WARN  s.s.r.e.GlobalExceptionHandler - Invalid date/time format provided: 2023-13-20
2025-08-30 22:30:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/bills
2025-08-30 22:30:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/bills
2025-08-30 22:30:24 [http-nio-8080-exec-2] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.calculateDiscount() with arguments: [sa.store.retaildiscount.dto.BillRequest@3b234ad0]
2025-08-30 22:30:24 [http-nio-8080-exec-2] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: DiscountService.processBill() with arguments: [sa.store.retaildiscount.dto.BillRequest@3b234ad0]
2025-08-30 22:30:24 [http-nio-8080-exec-2] DEBUG o.s.data.mongodb.core.MongoTemplate - Saving Document containing fields: [customer, items, totalAmount, netPayableAmount, billDate, discount, _class]
2025-08-30 22:30:24 [http-nio-8080-exec-2] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: DiscountService.processBill() with result: BillDTO(id=68b351503b5c760d696f23da, customer=sa.store.retaildiscount.dto.CustomerDTO@1bd0f264, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:24.091160400, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]) | Execution time: 45 ms
2025-08-30 22:30:24 [http-nio-8080-exec-2] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillController.calculateDiscount() with result: <200 OK OK,BillDTO(id=68b351503b5c760d696f23da, customer=sa.store.retaildiscount.dto.CustomerDTO@1bd0f264, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:24.091160400, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]),[]> | Execution time: 46 ms
2025-08-30 22:30:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/bills
2025-08-30 22:30:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/bills
2025-08-30 22:30:28 [http-nio-8080-exec-1] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.calculateDiscount() with arguments: [sa.store.retaildiscount.dto.BillRequest@6e1424c5]
2025-08-30 22:30:28 [http-nio-8080-exec-1] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: DiscountService.processBill() with arguments: [sa.store.retaildiscount.dto.BillRequest@6e1424c5]
2025-08-30 22:30:28 [http-nio-8080-exec-1] DEBUG o.s.data.mongodb.core.MongoTemplate - Saving Document containing fields: [customer, items, totalAmount, netPayableAmount, billDate, discount, _class]
2025-08-30 22:30:29 [http-nio-8080-exec-1] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: DiscountService.processBill() with result: BillDTO(id=68b351543b5c760d696f23db, customer=sa.store.retaildiscount.dto.CustomerDTO@2604b343, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:28.999050, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]) | Execution time: 4 ms
2025-08-30 22:30:29 [http-nio-8080-exec-1] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillController.calculateDiscount() with result: <200 OK OK,BillDTO(id=68b351543b5c760d696f23db, customer=sa.store.retaildiscount.dto.CustomerDTO@2604b343, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:28.999050, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]),[]> | Execution time: 4 ms
2025-08-30 22:30:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/bills
2025-08-30 22:30:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/bills
2025-08-30 22:30:29 [http-nio-8080-exec-4] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.calculateDiscount() with arguments: [sa.store.retaildiscount.dto.BillRequest@1925b304]
2025-08-30 22:30:29 [http-nio-8080-exec-4] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: DiscountService.processBill() with arguments: [sa.store.retaildiscount.dto.BillRequest@1925b304]
2025-08-30 22:30:29 [http-nio-8080-exec-4] DEBUG o.s.data.mongodb.core.MongoTemplate - Saving Document containing fields: [customer, items, totalAmount, netPayableAmount, billDate, discount, _class]
2025-08-30 22:30:29 [http-nio-8080-exec-4] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: DiscountService.processBill() with result: BillDTO(id=68b351553b5c760d696f23dc, customer=sa.store.retaildiscount.dto.CustomerDTO@17e25e50, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:29.644945100, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]) | Execution time: 4 ms
2025-08-30 22:30:29 [http-nio-8080-exec-4] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillController.calculateDiscount() with result: <200 OK OK,BillDTO(id=68b351553b5c760d696f23dc, customer=sa.store.retaildiscount.dto.CustomerDTO@17e25e50, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:29.644945100, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]),[]> | Execution time: 4 ms
2025-08-30 22:30:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/bills
2025-08-30 22:30:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/bills
2025-08-30 22:30:31 [http-nio-8080-exec-5] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.calculateDiscount() with arguments: [sa.store.retaildiscount.dto.BillRequest@2d7c09dd]
2025-08-30 22:30:31 [http-nio-8080-exec-5] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: DiscountService.processBill() with arguments: [sa.store.retaildiscount.dto.BillRequest@2d7c09dd]
2025-08-30 22:30:31 [http-nio-8080-exec-5] DEBUG o.s.data.mongodb.core.MongoTemplate - Saving Document containing fields: [customer, items, totalAmount, netPayableAmount, billDate, discount, _class]
2025-08-30 22:30:31 [http-nio-8080-exec-5] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: DiscountService.processBill() with result: BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@294f873e, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466908200, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]) | Execution time: 4 ms
2025-08-30 22:30:31 [http-nio-8080-exec-5] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillController.calculateDiscount() with result: <200 OK OK,BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@294f873e, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466908200, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]),[]> | Execution time: 4 ms
2025-08-30 22:30:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/bills/101010103434566
2025-08-30 22:30:38 [http-nio-8080-exec-3] ERROR s.s.r.config.JwtAuthenticationFilter - Unable to get JWT Token or JWT Token has expired
2025-08-30 22:30:38 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-30 22:30:38 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-08-30 22:30:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-30 22:30:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-30 22:30:38 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-30 22:31:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/bills/101010103434566
2025-08-30 22:31:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/bills/101010103434566
2025-08-30 22:31:17 [http-nio-8080-exec-6] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.getBillById() with arguments: [101010103434566]
2025-08-30 22:31:17 [http-nio-8080-exec-6] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillService.getBillById() with arguments: [101010103434566]
2025-08-30 22:31:17 [http-nio-8080-exec-6] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "id" : "101010103434566"} fields: Document{{}} for class: class sa.store.retaildiscount.entity.Bill in collection: bills
2025-08-30 22:31:17 [http-nio-8080-exec-6] ERROR s.s.r.aspect.LoggingAspect - EXCEPTION: Error in BillService.getBillById() - ResponseStatusException: 404 NOT_FOUND "Bill not found with ID: 101010103434566"
2025-08-30 22:31:17 [http-nio-8080-exec-6] ERROR s.s.r.aspect.LoggingAspect - <== Exception in method: BillService.getBillById() | Execution time: 30 ms | Exception: 404 NOT_FOUND "Bill not found with ID: 101010103434566"
2025-08-30 22:31:17 [http-nio-8080-exec-6] ERROR s.s.r.aspect.LoggingAspect - EXCEPTION: Error in BillController.getBillById() - ResponseStatusException: 404 NOT_FOUND "Bill not found with ID: 101010103434566"
2025-08-30 22:31:17 [http-nio-8080-exec-6] ERROR s.s.r.aspect.LoggingAspect - <== Exception in method: BillController.getBillById() | Execution time: 30 ms | Exception: 404 NOT_FOUND "Bill not found with ID: 101010103434566"
2025-08-30 22:31:17 [http-nio-8080-exec-6] ERROR s.s.r.e.GlobalExceptionHandler - Response status exception occurred: 
org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Bill not found with ID: 101010103434566"
	at sa.store.retaildiscount.service.BillService.lambda$getBillById$0(BillService.java:30)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at sa.store.retaildiscount.service.BillService.getBillById(BillService.java:30)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at sa.store.retaildiscount.aspect.LoggingAspect.logExecutionTime(LoggingAspect.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at sa.store.retaildiscount.service.BillService$$SpringCGLIB$$0.getBillById(<generated>)
	at sa.store.retaildiscount.controller.BillController.getBillById(BillController.java:55)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at sa.store.retaildiscount.aspect.LoggingAspect.logExecutionTime(LoggingAspect.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at sa.store.retaildiscount.controller.BillController$$SpringCGLIB$$0.getBillById(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-30 22:31:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/bills/68b351573b5c760d696f23dd
2025-08-30 22:31:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/bills/68b351573b5c760d696f23dd
2025-08-30 22:31:29 [http-nio-8080-exec-7] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30 22:31:29 [http-nio-8080-exec-7] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillService.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30 22:31:29 [http-nio-8080-exec-7] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "id" : "68b351573b5c760d696f23dd"} fields: Document{{}} for class: class sa.store.retaildiscount.entity.Bill in collection: bills
2025-08-30 22:31:29 [http-nio-8080-exec-7] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillService.getBillById() with result: BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@6bfe815e, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]) | Execution time: 5 ms
2025-08-30 22:31:29 [http-nio-8080-exec-7] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillController.getBillById() with result: <200 OK OK,BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@6bfe815e, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]),[]> | Execution time: 6 ms
2025-08-30 22:31:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/bills/68b351573b5c760d696f23dd
2025-08-30 22:31:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/bills/68b351573b5c760d696f23dd
2025-08-30 22:31:36 [http-nio-8080-exec-8] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30 22:31:36 [http-nio-8080-exec-8] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillService.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30 22:31:36 [http-nio-8080-exec-8] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "id" : "68b351573b5c760d696f23dd"} fields: Document{{}} for class: class sa.store.retaildiscount.entity.Bill in collection: bills
2025-08-30 22:31:36 [http-nio-8080-exec-8] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillService.getBillById() with result: BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@411ee6b4, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]) | Execution time: 3 ms
2025-08-30 22:31:36 [http-nio-8080-exec-8] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillController.getBillById() with result: <200 OK OK,BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@411ee6b4, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]),[]> | Execution time: 4 ms
2025-08-30 22:31:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/bills/68b351573b5c760d696f23dd
2025-08-30 22:31:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/bills/68b351573b5c760d696f23dd
2025-08-30 22:31:40 [http-nio-8080-exec-9] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30 22:31:40 [http-nio-8080-exec-9] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillService.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30 22:31:40 [http-nio-8080-exec-9] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "id" : "68b351573b5c760d696f23dd"} fields: Document{{}} for class: class sa.store.retaildiscount.entity.Bill in collection: bills
2025-08-30 22:31:40 [http-nio-8080-exec-9] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillService.getBillById() with result: BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@6cf4b75d, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]) | Execution time: 3 ms
2025-08-30 22:31:40 [http-nio-8080-exec-9] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillController.getBillById() with result: <200 OK OK,BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@6cf4b75d, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]),[]> | Execution time: 3 ms
2025-08-30 22:31:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/bills/68b351573b5c760d696f23dd
2025-08-30 22:31:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/bills/68b351573b5c760d696f23dd
2025-08-30 22:31:42 [http-nio-8080-exec-10] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30 22:31:42 [http-nio-8080-exec-10] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillService.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30 22:31:42 [http-nio-8080-exec-10] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "id" : "68b351573b5c760d696f23dd"} fields: Document{{}} for class: class sa.store.retaildiscount.entity.Bill in collection: bills
2025-08-30 22:31:42 [http-nio-8080-exec-10] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillService.getBillById() with result: BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@4e7737a3, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]) | Execution time: 3 ms
2025-08-30 22:31:42 [http-nio-8080-exec-10] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillController.getBillById() with result: <200 OK OK,BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@4e7737a3, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]),[]> | Execution time: 3 ms
2025-08-30 22:31:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/bills/68b351573b5c760d696f23dd
2025-08-30 22:31:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/bills/68b351573b5c760d696f23dd
2025-08-30 22:31:42 [http-nio-8080-exec-2] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30 22:31:42 [http-nio-8080-exec-2] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillService.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30 22:31:42 [http-nio-8080-exec-2] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "id" : "68b351573b5c760d696f23dd"} fields: Document{{}} for class: class sa.store.retaildiscount.entity.Bill in collection: bills
2025-08-30 22:31:42 [http-nio-8080-exec-2] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillService.getBillById() with result: BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@2d1ba961, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]) | Execution time: 3 ms
2025-08-30 22:31:42 [http-nio-8080-exec-2] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillController.getBillById() with result: <200 OK OK,BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@2d1ba961, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]),[]> | Execution time: 3 ms
2025-08-30 22:31:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/bills/68b351573b5c760d696f23dd
2025-08-30 22:31:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/bills/68b351573b5c760d696f23dd
2025-08-30 22:31:45 [http-nio-8080-exec-1] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30 22:31:45 [http-nio-8080-exec-1] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillService.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30 22:31:45 [http-nio-8080-exec-1] DEBUG o.s.data.mongodb.core.MongoTemplate - findOne using query: { "id" : "68b351573b5c760d696f23dd"} fields: Document{{}} for class: class sa.store.retaildiscount.entity.Bill in collection: bills
2025-08-30 22:31:45 [http-nio-8080-exec-1] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillService.getBillById() with result: BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@7d719e42, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]) | Execution time: 3 ms
2025-08-30 22:31:45 [http-nio-8080-exec-1] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillController.getBillById() with result: <200 OK OK,BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@7d719e42, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]),[]> | Execution time: 3 ms
2025-08-30 22:31:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/bills/customer/101010103434566
2025-08-30 22:31:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/bills/customer/101010103434566
2025-08-30 22:31:58 [http-nio-8080-exec-4] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.getBillsByCustomerId() with arguments: [101010103434566]
2025-08-30 22:31:58 [http-nio-8080-exec-4] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillService.getBillsByCustomerId() with arguments: [101010103434566]
2025-08-30 22:31:58 [http-nio-8080-exec-4] DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "customer.identity" : "101010103434566"}, Fields: {}, Sort: {}
2025-08-30 22:31:58 [http-nio-8080-exec-4] DEBUG o.s.data.mongodb.core.MongoTemplate - find using query: { "customer.identity" : "101010103434566"} fields: Document{{}} sort: null for class: class sa.store.retaildiscount.entity.Bill in collection: bills
2025-08-30 22:31:58 [http-nio-8080-exec-4] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillService.getBillsByCustomerId() with result: [BillDTO(id=68b1f5412148bbd4e3af29d9, customer=sa.store.retaildiscount.dto.CustomerDTO@32be7175, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=2353923.05, billDate=2025-08-29T21:45:21.583, discount=[DiscountDTO(discountAmount=1086425.59, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5622148bbd4e3af29da, customer=sa.store.retaildiscount.dto.CustomerDTO@600e9fbd, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:45:54.500, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5c12148bbd4e3af29db, customer=sa.store.retaildiscount.dto.CustomerDTO@3f8c8e5e, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:47:29.462, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5cc2148bbd4e3af29dc, customer=sa.store.retaildiscount.dto.CustomerDTO@1c1481f2, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T21:47:40.670, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfc21f30ef4662cfd14, customer=sa.store.retaildiscount.dto.CustomerDTO@5de07edc, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:04.458, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfd21f30ef4662cfd15, customer=sa.store.retaildiscount.dto.CustomerDTO@4907f1aa, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:05.815, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fc0821f30ef4662cfd16, customer=sa.store.retaildiscount.dto.CustomerDTO@122278aa, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621416.82, netPayableAmount=3440346.82, billDate=2025-08-29T22:14:16.402, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b204c3eaa2e76cf89162ad, customer=sa.store.retaildiscount.dto.CustomerDTO@2a01600d, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:51:31.044, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b205bcb3b66f47ace0de72, customer=sa.store.retaildiscount.dto.CustomerDTO@7449fd0f, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:55:40.772, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e11df744057c0da2fb93, customer=sa.store.retaildiscount.dto.CustomerDTO@2b5c88d, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:31:41.260, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e137f744057c0da2fb94, customer=sa.store.retaildiscount.dto.CustomerDTO@3d31759, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:32:07.702, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32b7df53aaa9e91ba37f3, customer=sa.store.retaildiscount.dto.CustomerDTO@22731e26, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T19:49:01.342, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32edc0d5112262ab44d7f, customer=sa.store.retaildiscount.dto.CustomerDTO@19692ee2, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:03:24.618, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32f070d5112262ab44d80, customer=sa.store.retaildiscount.dto.CustomerDTO@35b47ce2, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:04:07.688, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338100d5112262ab44d81, customer=sa.store.retaildiscount.dto.CustomerDTO@2e46ccd2, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:42:40.245, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338230d5112262ab44d82, customer=sa.store.retaildiscount.dto.CustomerDTO@14fe7512, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=2350336.92, billDate=2025-08-30T20:42:59.276, discount=[DiscountDTO(discountAmount=1084770.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351503b5c760d696f23da, customer=sa.store.retaildiscount.dto.CustomerDTO@44b04751, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:24.091, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351543b5c760d696f23db, customer=sa.store.retaildiscount.dto.CustomerDTO@52756049, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:28.999, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351553b5c760d696f23dc, customer=sa.store.retaildiscount.dto.CustomerDTO@4acd1689, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:29.644, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@2dfcbc27, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)])] | Execution time: 9 ms
2025-08-30 22:31:58 [http-nio-8080-exec-4] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillController.getBillsByCustomerId() with result: <200 OK OK,[BillDTO(id=68b1f5412148bbd4e3af29d9, customer=sa.store.retaildiscount.dto.CustomerDTO@32be7175, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=2353923.05, billDate=2025-08-29T21:45:21.583, discount=[DiscountDTO(discountAmount=1086425.59, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5622148bbd4e3af29da, customer=sa.store.retaildiscount.dto.CustomerDTO@600e9fbd, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:45:54.500, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5c12148bbd4e3af29db, customer=sa.store.retaildiscount.dto.CustomerDTO@3f8c8e5e, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:47:29.462, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5cc2148bbd4e3af29dc, customer=sa.store.retaildiscount.dto.CustomerDTO@1c1481f2, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T21:47:40.670, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfc21f30ef4662cfd14, customer=sa.store.retaildiscount.dto.CustomerDTO@5de07edc, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:04.458, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfd21f30ef4662cfd15, customer=sa.store.retaildiscount.dto.CustomerDTO@4907f1aa, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:05.815, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fc0821f30ef4662cfd16, customer=sa.store.retaildiscount.dto.CustomerDTO@122278aa, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621416.82, netPayableAmount=3440346.82, billDate=2025-08-29T22:14:16.402, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b204c3eaa2e76cf89162ad, customer=sa.store.retaildiscount.dto.CustomerDTO@2a01600d, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:51:31.044, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b205bcb3b66f47ace0de72, customer=sa.store.retaildiscount.dto.CustomerDTO@7449fd0f, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:55:40.772, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e11df744057c0da2fb93, customer=sa.store.retaildiscount.dto.CustomerDTO@2b5c88d, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:31:41.260, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e137f744057c0da2fb94, customer=sa.store.retaildiscount.dto.CustomerDTO@3d31759, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:32:07.702, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32b7df53aaa9e91ba37f3, customer=sa.store.retaildiscount.dto.CustomerDTO@22731e26, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T19:49:01.342, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32edc0d5112262ab44d7f, customer=sa.store.retaildiscount.dto.CustomerDTO@19692ee2, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:03:24.618, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32f070d5112262ab44d80, customer=sa.store.retaildiscount.dto.CustomerDTO@35b47ce2, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:04:07.688, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338100d5112262ab44d81, customer=sa.store.retaildiscount.dto.CustomerDTO@2e46ccd2, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:42:40.245, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338230d5112262ab44d82, customer=sa.store.retaildiscount.dto.CustomerDTO@14fe7512, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=2350336.92, billDate=2025-08-30T20:42:59.276, discount=[DiscountDTO(discountAmount=1084770.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351503b5c760d696f23da, customer=sa.store.retaildiscount.dto.CustomerDTO@44b04751, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:24.091, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351543b5c760d696f23db, customer=sa.store.retaildiscount.dto.CustomerDTO@52756049, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:28.999, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351553b5c760d696f23dc, customer=sa.store.retaildiscount.dto.CustomerDTO@4acd1689, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:29.644, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@2dfcbc27, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)])],[]> | Execution time: 10 ms
2025-08-30 22:32:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/bills/customer/101010103434566
2025-08-30 22:32:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/bills/customer/101010103434566
2025-08-30 22:32:00 [http-nio-8080-exec-5] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.getBillsByCustomerId() with arguments: [101010103434566]
2025-08-30 22:32:00 [http-nio-8080-exec-5] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillService.getBillsByCustomerId() with arguments: [101010103434566]
2025-08-30 22:32:00 [http-nio-8080-exec-5] DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "customer.identity" : "101010103434566"}, Fields: {}, Sort: {}
2025-08-30 22:32:00 [http-nio-8080-exec-5] DEBUG o.s.data.mongodb.core.MongoTemplate - find using query: { "customer.identity" : "101010103434566"} fields: Document{{}} sort: null for class: class sa.store.retaildiscount.entity.Bill in collection: bills
2025-08-30 22:32:00 [http-nio-8080-exec-5] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillService.getBillsByCustomerId() with result: [BillDTO(id=68b1f5412148bbd4e3af29d9, customer=sa.store.retaildiscount.dto.CustomerDTO@7cf6dc32, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=2353923.05, billDate=2025-08-29T21:45:21.583, discount=[DiscountDTO(discountAmount=1086425.59, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5622148bbd4e3af29da, customer=sa.store.retaildiscount.dto.CustomerDTO@29d5d2e5, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:45:54.500, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5c12148bbd4e3af29db, customer=sa.store.retaildiscount.dto.CustomerDTO@17cf8e0b, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:47:29.462, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5cc2148bbd4e3af29dc, customer=sa.store.retaildiscount.dto.CustomerDTO@6e76bd3c, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T21:47:40.670, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfc21f30ef4662cfd14, customer=sa.store.retaildiscount.dto.CustomerDTO@24abeb8c, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:04.458, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfd21f30ef4662cfd15, customer=sa.store.retaildiscount.dto.CustomerDTO@236e4706, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:05.815, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fc0821f30ef4662cfd16, customer=sa.store.retaildiscount.dto.CustomerDTO@48ba2ab6, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621416.82, netPayableAmount=3440346.82, billDate=2025-08-29T22:14:16.402, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b204c3eaa2e76cf89162ad, customer=sa.store.retaildiscount.dto.CustomerDTO@13fee1c0, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:51:31.044, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b205bcb3b66f47ace0de72, customer=sa.store.retaildiscount.dto.CustomerDTO@68f28fb8, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:55:40.772, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e11df744057c0da2fb93, customer=sa.store.retaildiscount.dto.CustomerDTO@39f5a3d7, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:31:41.260, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e137f744057c0da2fb94, customer=sa.store.retaildiscount.dto.CustomerDTO@2083d1c5, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:32:07.702, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32b7df53aaa9e91ba37f3, customer=sa.store.retaildiscount.dto.CustomerDTO@4417d4f4, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T19:49:01.342, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32edc0d5112262ab44d7f, customer=sa.store.retaildiscount.dto.CustomerDTO@38640c81, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:03:24.618, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32f070d5112262ab44d80, customer=sa.store.retaildiscount.dto.CustomerDTO@2c1bfb41, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:04:07.688, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338100d5112262ab44d81, customer=sa.store.retaildiscount.dto.CustomerDTO@12a81afe, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:42:40.245, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338230d5112262ab44d82, customer=sa.store.retaildiscount.dto.CustomerDTO@6862dc2b, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=2350336.92, billDate=2025-08-30T20:42:59.276, discount=[DiscountDTO(discountAmount=1084770.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351503b5c760d696f23da, customer=sa.store.retaildiscount.dto.CustomerDTO@707ad5a2, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:24.091, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351543b5c760d696f23db, customer=sa.store.retaildiscount.dto.CustomerDTO@3c8e91f, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:28.999, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351553b5c760d696f23dc, customer=sa.store.retaildiscount.dto.CustomerDTO@51e57c72, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:29.644, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@2f1871e1, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)])] | Execution time: 7 ms
2025-08-30 22:32:00 [http-nio-8080-exec-5] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillController.getBillsByCustomerId() with result: <200 OK OK,[BillDTO(id=68b1f5412148bbd4e3af29d9, customer=sa.store.retaildiscount.dto.CustomerDTO@7cf6dc32, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=2353923.05, billDate=2025-08-29T21:45:21.583, discount=[DiscountDTO(discountAmount=1086425.59, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5622148bbd4e3af29da, customer=sa.store.retaildiscount.dto.CustomerDTO@29d5d2e5, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:45:54.500, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5c12148bbd4e3af29db, customer=sa.store.retaildiscount.dto.CustomerDTO@17cf8e0b, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:47:29.462, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5cc2148bbd4e3af29dc, customer=sa.store.retaildiscount.dto.CustomerDTO@6e76bd3c, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T21:47:40.670, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfc21f30ef4662cfd14, customer=sa.store.retaildiscount.dto.CustomerDTO@24abeb8c, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:04.458, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfd21f30ef4662cfd15, customer=sa.store.retaildiscount.dto.CustomerDTO@236e4706, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:05.815, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fc0821f30ef4662cfd16, customer=sa.store.retaildiscount.dto.CustomerDTO@48ba2ab6, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621416.82, netPayableAmount=3440346.82, billDate=2025-08-29T22:14:16.402, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b204c3eaa2e76cf89162ad, customer=sa.store.retaildiscount.dto.CustomerDTO@13fee1c0, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:51:31.044, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b205bcb3b66f47ace0de72, customer=sa.store.retaildiscount.dto.CustomerDTO@68f28fb8, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:55:40.772, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e11df744057c0da2fb93, customer=sa.store.retaildiscount.dto.CustomerDTO@39f5a3d7, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:31:41.260, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e137f744057c0da2fb94, customer=sa.store.retaildiscount.dto.CustomerDTO@2083d1c5, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:32:07.702, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32b7df53aaa9e91ba37f3, customer=sa.store.retaildiscount.dto.CustomerDTO@4417d4f4, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T19:49:01.342, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32edc0d5112262ab44d7f, customer=sa.store.retaildiscount.dto.CustomerDTO@38640c81, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:03:24.618, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32f070d5112262ab44d80, customer=sa.store.retaildiscount.dto.CustomerDTO@2c1bfb41, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:04:07.688, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338100d5112262ab44d81, customer=sa.store.retaildiscount.dto.CustomerDTO@12a81afe, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:42:40.245, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338230d5112262ab44d82, customer=sa.store.retaildiscount.dto.CustomerDTO@6862dc2b, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=2350336.92, billDate=2025-08-30T20:42:59.276, discount=[DiscountDTO(discountAmount=1084770.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351503b5c760d696f23da, customer=sa.store.retaildiscount.dto.CustomerDTO@707ad5a2, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:24.091, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351543b5c760d696f23db, customer=sa.store.retaildiscount.dto.CustomerDTO@3c8e91f, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:28.999, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351553b5c760d696f23dc, customer=sa.store.retaildiscount.dto.CustomerDTO@51e57c72, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:29.644, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@2f1871e1, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)])],[]> | Execution time: 8 ms
2025-08-30 22:32:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/bills/customer/101010103434566
2025-08-30 22:32:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/bills/customer/101010103434566
2025-08-30 22:32:16 [http-nio-8080-exec-3] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillController.getBillsByCustomerId() with arguments: [101010103434566]
2025-08-30 22:32:16 [http-nio-8080-exec-3] INFO  s.s.r.aspect.LoggingAspect - ==> Entering method: BillService.getBillsByCustomerId() with arguments: [101010103434566]
2025-08-30 22:32:16 [http-nio-8080-exec-3] DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "customer.identity" : "101010103434566"}, Fields: {}, Sort: {}
2025-08-30 22:32:16 [http-nio-8080-exec-3] DEBUG o.s.data.mongodb.core.MongoTemplate - find using query: { "customer.identity" : "101010103434566"} fields: Document{{}} sort: null for class: class sa.store.retaildiscount.entity.Bill in collection: bills
2025-08-30 22:32:16 [http-nio-8080-exec-3] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillService.getBillsByCustomerId() with result: [BillDTO(id=68b1f5412148bbd4e3af29d9, customer=sa.store.retaildiscount.dto.CustomerDTO@826519d, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=2353923.05, billDate=2025-08-29T21:45:21.583, discount=[DiscountDTO(discountAmount=1086425.59, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5622148bbd4e3af29da, customer=sa.store.retaildiscount.dto.CustomerDTO@4bd2662b, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:45:54.500, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5c12148bbd4e3af29db, customer=sa.store.retaildiscount.dto.CustomerDTO@77a4036b, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:47:29.462, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5cc2148bbd4e3af29dc, customer=sa.store.retaildiscount.dto.CustomerDTO@292076be, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T21:47:40.670, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfc21f30ef4662cfd14, customer=sa.store.retaildiscount.dto.CustomerDTO@133070be, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:04.458, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfd21f30ef4662cfd15, customer=sa.store.retaildiscount.dto.CustomerDTO@4b8bafcd, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:05.815, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fc0821f30ef4662cfd16, customer=sa.store.retaildiscount.dto.CustomerDTO@1ce3428c, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621416.82, netPayableAmount=3440346.82, billDate=2025-08-29T22:14:16.402, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b204c3eaa2e76cf89162ad, customer=sa.store.retaildiscount.dto.CustomerDTO@36dc4228, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:51:31.044, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b205bcb3b66f47ace0de72, customer=sa.store.retaildiscount.dto.CustomerDTO@26f971cd, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:55:40.772, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e11df744057c0da2fb93, customer=sa.store.retaildiscount.dto.CustomerDTO@301a5718, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:31:41.260, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e137f744057c0da2fb94, customer=sa.store.retaildiscount.dto.CustomerDTO@366b94b5, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:32:07.702, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32b7df53aaa9e91ba37f3, customer=sa.store.retaildiscount.dto.CustomerDTO@62725d52, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T19:49:01.342, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32edc0d5112262ab44d7f, customer=sa.store.retaildiscount.dto.CustomerDTO@f682fc8, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:03:24.618, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32f070d5112262ab44d80, customer=sa.store.retaildiscount.dto.CustomerDTO@6da80baa, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:04:07.688, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338100d5112262ab44d81, customer=sa.store.retaildiscount.dto.CustomerDTO@70ce496, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:42:40.245, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338230d5112262ab44d82, customer=sa.store.retaildiscount.dto.CustomerDTO@77e4a1e8, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=2350336.92, billDate=2025-08-30T20:42:59.276, discount=[DiscountDTO(discountAmount=1084770.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351503b5c760d696f23da, customer=sa.store.retaildiscount.dto.CustomerDTO@393cc6b3, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:24.091, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351543b5c760d696f23db, customer=sa.store.retaildiscount.dto.CustomerDTO@14646f65, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:28.999, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351553b5c760d696f23dc, customer=sa.store.retaildiscount.dto.CustomerDTO@74ac012b, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:29.644, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@269505b7, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)])] | Execution time: 5 ms
2025-08-30 22:32:16 [http-nio-8080-exec-3] INFO  s.s.r.aspect.LoggingAspect - <== Exiting method: BillController.getBillsByCustomerId() with result: <200 OK OK,[BillDTO(id=68b1f5412148bbd4e3af29d9, customer=sa.store.retaildiscount.dto.CustomerDTO@826519d, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=2353923.05, billDate=2025-08-29T21:45:21.583, discount=[DiscountDTO(discountAmount=1086425.59, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5622148bbd4e3af29da, customer=sa.store.retaildiscount.dto.CustomerDTO@4bd2662b, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:45:54.500, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5c12148bbd4e3af29db, customer=sa.store.retaildiscount.dto.CustomerDTO@77a4036b, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:47:29.462, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5cc2148bbd4e3af29dc, customer=sa.store.retaildiscount.dto.CustomerDTO@292076be, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T21:47:40.670, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfc21f30ef4662cfd14, customer=sa.store.retaildiscount.dto.CustomerDTO@133070be, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:04.458, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfd21f30ef4662cfd15, customer=sa.store.retaildiscount.dto.CustomerDTO@4b8bafcd, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:05.815, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fc0821f30ef4662cfd16, customer=sa.store.retaildiscount.dto.CustomerDTO@1ce3428c, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621416.82, netPayableAmount=3440346.82, billDate=2025-08-29T22:14:16.402, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b204c3eaa2e76cf89162ad, customer=sa.store.retaildiscount.dto.CustomerDTO@36dc4228, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:51:31.044, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b205bcb3b66f47ace0de72, customer=sa.store.retaildiscount.dto.CustomerDTO@26f971cd, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:55:40.772, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e11df744057c0da2fb93, customer=sa.store.retaildiscount.dto.CustomerDTO@301a5718, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:31:41.260, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e137f744057c0da2fb94, customer=sa.store.retaildiscount.dto.CustomerDTO@366b94b5, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:32:07.702, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32b7df53aaa9e91ba37f3, customer=sa.store.retaildiscount.dto.CustomerDTO@62725d52, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T19:49:01.342, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32edc0d5112262ab44d7f, customer=sa.store.retaildiscount.dto.CustomerDTO@f682fc8, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:03:24.618, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32f070d5112262ab44d80, customer=sa.store.retaildiscount.dto.CustomerDTO@6da80baa, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:04:07.688, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338100d5112262ab44d81, customer=sa.store.retaildiscount.dto.CustomerDTO@70ce496, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:42:40.245, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338230d5112262ab44d82, customer=sa.store.retaildiscount.dto.CustomerDTO@77e4a1e8, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=2350336.92, billDate=2025-08-30T20:42:59.276, discount=[DiscountDTO(discountAmount=1084770.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351503b5c760d696f23da, customer=sa.store.retaildiscount.dto.CustomerDTO@393cc6b3, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:24.091, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351543b5c760d696f23db, customer=sa.store.retaildiscount.dto.CustomerDTO@14646f65, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:28.999, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351553b5c760d696f23dc, customer=sa.store.retaildiscount.dto.CustomerDTO@74ac012b, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:29.644, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@269505b7, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)])],[]> | Execution time: 5 ms
2025-08-30 22:33:51 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-30 22:33:51 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-30T22:33:53.548+03:00  INFO 35508 --- [retailDiscount] [main] s.s.r.RetailDiscountApplication          : Starting RetailDiscountApplication using Java 21.0.1 with PID 35508 (C:\Users\PC\IdeaProjects\retailDiscount\target\classes started by PC in C:\Users\PC\IdeaProjects\retailDiscount)
2025-08-30T22:33:53.549+03:00  INFO 35508 --- [retailDiscount] [main] s.s.r.RetailDiscountApplication          : No active profile set, falling back to 1 default profile: "default"
2025-08-30T22:33:54.074+03:00  INFO 35508 --- [retailDiscount] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-30T22:33:54.104+03:00  INFO 35508 --- [retailDiscount] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 2 MongoDB repository interfaces.
2025-08-30T22:33:54.428+03:00  INFO 35508 --- [retailDiscount] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-30T22:33:54.436+03:00  INFO 35508 --- [retailDiscount] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-30T22:33:54.437+03:00  INFO 35508 --- [retailDiscount] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-30T22:33:54.472+03:00  INFO 35508 --- [retailDiscount] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-30T22:33:54.472+03:00  INFO 35508 --- [retailDiscount] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 902 ms
2025-08-30T22:33:54.698+03:00  INFO 35508 --- [retailDiscount] [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-data", "version": "5.5.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/21.0.1+12-29"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='root', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@50785f86, com.mongodb.Jep395RecordCodecProvider@7c3c3d67, com.mongodb.KotlinCodecProvider@1e258d3b]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=3000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=3000, readTimeoutMS=3000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=20, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=30000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-08-30T22:33:54.705+03:00  INFO 35508 --- [retailDiscount] [cluster-ClusterId{value='68b3522287f0a91d3c2bca0a', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=12070600, minRoundTripTimeNanos=0}
2025-08-30T22:33:55.195+03:00  INFO 35508 --- [retailDiscount] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-08-30T22:33:55.211+03:00  WARN 35508 --- [retailDiscount] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 377248ed-d5f9-4e7a-8333-62564c0a050c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-30T22:33:55.215+03:00  INFO 35508 --- [retailDiscount] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-08-30T22:33:55.273+03:00 DEBUG 35508 --- [retailDiscount] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-30T22:33:55.533+03:00  INFO 35508 --- [retailDiscount] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-30T22:33:55.541+03:00  INFO 35508 --- [retailDiscount] [main] s.s.r.RetailDiscountApplication          : Started RetailDiscountApplication in 2.248 seconds (process running for 2.681)
2025-08-30T22:33:55.545+03:00  INFO 35508 --- [retailDiscount] [main] s.s.r.config.MongoInitializer            : Starting MongoDB collections and documents initialization...
2025-08-30T22:33:55.548+03:00 DEBUG 35508 --- [retailDiscount] [main] o.s.data.mongodb.core.MongoTemplate      : Executing count: {} in collection: bills
2025-08-30T22:33:55.605+03:00  INFO 35508 --- [retailDiscount] [main] s.s.r.config.MongoInitializer            : Bills collection already exists with data
2025-08-30T22:33:55.606+03:00 DEBUG 35508 --- [retailDiscount] [main] o.s.data.mongodb.core.MongoTemplate      : Executing count: {} in collection: clients
2025-08-30T22:33:55.607+03:00  INFO 35508 --- [retailDiscount] [main] s.s.r.config.MongoInitializer            : Clients collection already exists with data
2025-08-30T22:33:55.607+03:00  INFO 35508 --- [retailDiscount] [main] s.s.r.config.MongoInitializer            : MongoDB initialization completed!
2025-08-30T22:33:56.036+03:00  INFO 35508 --- [retailDiscount] [RMI TCP Connection(3)-192.168.56.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-30T22:33:56.036+03:00  INFO 35508 --- [retailDiscount] [RMI TCP Connection(3)-192.168.56.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-30T22:33:56.038+03:00  INFO 35508 --- [retailDiscount] [RMI TCP Connection(3)-192.168.56.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-08-30T22:34:01.289+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/bills/customer/101010103434566
2025-08-30T22:34:01.334+03:00 ERROR 35508 --- [retailDiscount] [http-nio-8080-exec-1] s.s.r.config.JwtAuthenticationFilter     : Unable to get JWT Token or JWT Token has expired
2025-08-30T22:34:01.335+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-30T22:34:01.341+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-08-30T22:34:01.346+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-08-30T22:34:01.348+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-08-30T22:34:01.370+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-30T22:34:07.213+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/authenticate
2025-08-30T22:34:07.214+03:00 ERROR 35508 --- [retailDiscount] [http-nio-8080-exec-5] s.s.r.config.JwtAuthenticationFilter     : Unable to get JWT Token or JWT Token has expired
2025-08-30T22:34:07.214+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-30T22:34:07.215+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/authenticate
2025-08-30T22:34:07.234+03:00  INFO 35508 --- [retailDiscount] [http-nio-8080-exec-5] s.s.retaildiscount.aspect.LoggingAspect  : ==> Entering method: AuthenticationController.authenticate() with arguments: [sa.store.retaildiscount.dto.AuthenticationRequest@76a5833f]
2025-08-30T22:34:07.235+03:00  INFO 35508 --- [retailDiscount] [http-nio-8080-exec-5] s.s.retaildiscount.aspect.LoggingAspect  : ==> Entering method: AuthenticationService.authenticate() with arguments: [sa.store.retaildiscount.dto.AuthenticationRequest@76a5833f]
2025-08-30T22:34:07.240+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-5] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "username" : "admin"}, Fields: {}, Sort: {}
2025-08-30T22:34:07.246+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-5] o.s.data.mongodb.core.MongoTemplate      : find using query: { "username" : "admin"} fields: Document{{}} sort: null for class: class sa.store.retaildiscount.entity.Client in collection: clients
2025-08-30T22:34:07.328+03:00  INFO 35508 --- [retailDiscount] [http-nio-8080-exec-5] s.s.retaildiscount.aspect.LoggingAspect  : <== Exiting method: AuthenticationService.authenticate() with result: sa.store.retaildiscount.dto.AuthenticationResponse@50691893 | Execution time: 93 ms
2025-08-30T22:34:07.328+03:00  INFO 35508 --- [retailDiscount] [http-nio-8080-exec-5] s.s.retaildiscount.aspect.LoggingAspect  : <== Exiting method: AuthenticationController.authenticate() with result: <200 OK OK,sa.store.retaildiscount.dto.AuthenticationResponse@50691893,[]> | Execution time: 94 ms
2025-08-30T22:34:18.589+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/bills/68b351573b5c760d696f23dd
2025-08-30T22:34:18.593+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/bills/68b351573b5c760d696f23dd
2025-08-30T22:34:18.597+03:00  INFO 35508 --- [retailDiscount] [http-nio-8080-exec-4] s.s.retaildiscount.aspect.LoggingAspect  : ==> Entering method: BillController.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30T22:34:18.597+03:00  INFO 35508 --- [retailDiscount] [http-nio-8080-exec-4] s.s.retaildiscount.aspect.LoggingAspect  : ==> Entering method: BillService.getBillById() with arguments: [68b351573b5c760d696f23dd]
2025-08-30T22:34:18.599+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-4] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : "68b351573b5c760d696f23dd"} fields: Document{{}} for class: class sa.store.retaildiscount.entity.Bill in collection: bills
2025-08-30T22:34:18.608+03:00  INFO 35508 --- [retailDiscount] [http-nio-8080-exec-4] s.s.retaildiscount.aspect.LoggingAspect  : <== Exiting method: BillService.getBillById() with result: BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@4798ffc7, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]) | Execution time: 11 ms
2025-08-30T22:34:18.609+03:00  INFO 35508 --- [retailDiscount] [http-nio-8080-exec-4] s.s.retaildiscount.aspect.LoggingAspect  : <== Exiting method: BillController.getBillById() with result: <200 OK OK,BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@4798ffc7, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]),[]> | Execution time: 12 ms
2025-08-30T22:34:22.028+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/bills/customer/101010103434566
2025-08-30T22:34:22.029+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/bills/customer/101010103434566
2025-08-30T22:34:22.030+03:00  INFO 35508 --- [retailDiscount] [http-nio-8080-exec-3] s.s.retaildiscount.aspect.LoggingAspect  : ==> Entering method: BillController.getBillsByCustomerId() with arguments: [101010103434566]
2025-08-30T22:34:22.030+03:00  INFO 35508 --- [retailDiscount] [http-nio-8080-exec-3] s.s.retaildiscount.aspect.LoggingAspect  : ==> Entering method: BillService.getBillsByCustomerId() with arguments: [101010103434566]
2025-08-30T22:34:22.031+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-3] o.s.d.m.r.query.MongoQueryCreator        : Created query Query: { "customer.identity" : "101010103434566"}, Fields: {}, Sort: {}
2025-08-30T22:34:22.031+03:00 DEBUG 35508 --- [retailDiscount] [http-nio-8080-exec-3] o.s.data.mongodb.core.MongoTemplate      : find using query: { "customer.identity" : "101010103434566"} fields: Document{{}} sort: null for class: class sa.store.retaildiscount.entity.Bill in collection: bills
2025-08-30T22:34:22.041+03:00  INFO 35508 --- [retailDiscount] [http-nio-8080-exec-3] s.s.retaildiscount.aspect.LoggingAspect  : <== Exiting method: BillService.getBillsByCustomerId() with result: [BillDTO(id=68b1f5412148bbd4e3af29d9, customer=sa.store.retaildiscount.dto.CustomerDTO@985e4b, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=2353923.05, billDate=2025-08-29T21:45:21.583, discount=[DiscountDTO(discountAmount=1086425.59, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5622148bbd4e3af29da, customer=sa.store.retaildiscount.dto.CustomerDTO@189e61ae, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:45:54.500, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5c12148bbd4e3af29db, customer=sa.store.retaildiscount.dto.CustomerDTO@64bdbbf, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:47:29.462, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5cc2148bbd4e3af29dc, customer=sa.store.retaildiscount.dto.CustomerDTO@58e20abe, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T21:47:40.670, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfc21f30ef4662cfd14, customer=sa.store.retaildiscount.dto.CustomerDTO@1a4a6def, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:04.458, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfd21f30ef4662cfd15, customer=sa.store.retaildiscount.dto.CustomerDTO@7132fc19, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:05.815, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fc0821f30ef4662cfd16, customer=sa.store.retaildiscount.dto.CustomerDTO@297c47a3, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621416.82, netPayableAmount=3440346.82, billDate=2025-08-29T22:14:16.402, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b204c3eaa2e76cf89162ad, customer=sa.store.retaildiscount.dto.CustomerDTO@61831fc8, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:51:31.044, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b205bcb3b66f47ace0de72, customer=sa.store.retaildiscount.dto.CustomerDTO@286f3302, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:55:40.772, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e11df744057c0da2fb93, customer=sa.store.retaildiscount.dto.CustomerDTO@4e5bd022, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:31:41.260, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e137f744057c0da2fb94, customer=sa.store.retaildiscount.dto.CustomerDTO@551d715, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:32:07.702, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32b7df53aaa9e91ba37f3, customer=sa.store.retaildiscount.dto.CustomerDTO@7cd5e528, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T19:49:01.342, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32edc0d5112262ab44d7f, customer=sa.store.retaildiscount.dto.CustomerDTO@2d733e93, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:03:24.618, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32f070d5112262ab44d80, customer=sa.store.retaildiscount.dto.CustomerDTO@3db921df, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:04:07.688, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338100d5112262ab44d81, customer=sa.store.retaildiscount.dto.CustomerDTO@365bb002, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:42:40.245, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338230d5112262ab44d82, customer=sa.store.retaildiscount.dto.CustomerDTO@6574ef44, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=2350336.92, billDate=2025-08-30T20:42:59.276, discount=[DiscountDTO(discountAmount=1084770.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351503b5c760d696f23da, customer=sa.store.retaildiscount.dto.CustomerDTO@5147d2df, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:24.091, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351543b5c760d696f23db, customer=sa.store.retaildiscount.dto.CustomerDTO@2504b6f1, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:28.999, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351553b5c760d696f23dc, customer=sa.store.retaildiscount.dto.CustomerDTO@4e34d9f3, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:29.644, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@c7811be, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)])] | Execution time: 11 ms
2025-08-30T22:34:22.042+03:00  INFO 35508 --- [retailDiscount] [http-nio-8080-exec-3] s.s.retaildiscount.aspect.LoggingAspect  : <== Exiting method: BillController.getBillsByCustomerId() with result: <200 OK OK,[BillDTO(id=68b1f5412148bbd4e3af29d9, customer=sa.store.retaildiscount.dto.CustomerDTO@985e4b, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=2353923.05, billDate=2025-08-29T21:45:21.583, discount=[DiscountDTO(discountAmount=1086425.59, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5622148bbd4e3af29da, customer=sa.store.retaildiscount.dto.CustomerDTO@189e61ae, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:45:54.500, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5c12148bbd4e3af29db, customer=sa.store.retaildiscount.dto.CustomerDTO@64bdbbf, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3259277.71, billDate=2025-08-29T21:47:29.462, discount=[DiscountDTO(discountAmount=181070.93, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1f5cc2148bbd4e3af29dc, customer=sa.store.retaildiscount.dto.CustomerDTO@58e20abe, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T21:47:40.670, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfc21f30ef4662cfd14, customer=sa.store.retaildiscount.dto.CustomerDTO@1a4a6def, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:04.458, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fbfd21f30ef4662cfd15, customer=sa.store.retaildiscount.dto.CustomerDTO@7132fc19, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.4546343, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621418.64, netPayableAmount=3440348.64, billDate=2025-08-29T22:14:05.815, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b1fc0821f30ef4662cfd16, customer=sa.store.retaildiscount.dto.CustomerDTO@297c47a3, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable6, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3621416.82, netPayableAmount=3440346.82, billDate=2025-08-29T22:14:16.402, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=181070, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b204c3eaa2e76cf89162ad, customer=sa.store.retaildiscount.dto.CustomerDTO@61831fc8, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.0), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.0), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.0)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:51:31.044, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b205bcb3b66f47ace0de72, customer=sa.store.retaildiscount.dto.CustomerDTO@286f3302, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-29T22:55:40.772, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e11df744057c0da2fb93, customer=sa.store.retaildiscount.dto.CustomerDTO@4e5bd022, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:31:41.260, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b2e137f744057c0da2fb94, customer=sa.store.retaildiscount.dto.CustomerDTO@551d715, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T14:32:07.702, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32b7df53aaa9e91ba37f3, customer=sa.store.retaildiscount.dto.CustomerDTO@7cd5e528, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T19:49:01.342, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32edc0d5112262ab44d7f, customer=sa.store.retaildiscount.dto.CustomerDTO@2d733e93, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:03:24.618, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b32f070d5112262ab44d80, customer=sa.store.retaildiscount.dto.CustomerDTO@3db921df, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:04:07.688, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338100d5112262ab44d81, customer=sa.store.retaildiscount.dto.CustomerDTO@365bb002, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=3435107.74, billDate=2025-08-30T20:42:40.245, discount=[DiscountDTO(discountAmount=0, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b338230d5112262ab44d82, customer=sa.store.retaildiscount.dto.CustomerDTO@6574ef44, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=4.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=3615902.74, netPayableAmount=2350336.92, billDate=2025-08-30T20:42:59.276, discount=[DiscountDTO(discountAmount=1084770.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=180795, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351503b5c760d696f23da, customer=sa.store.retaildiscount.dto.CustomerDTO@5147d2df, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:24.091, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351543b5c760d696f23db, customer=sa.store.retaildiscount.dto.CustomerDTO@2504b6f1, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:28.999, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351553b5c760d696f23dc, customer=sa.store.retaildiscount.dto.CustomerDTO@4e34d9f3, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:29.644, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)]), BillDTO(id=68b351573b5c760d696f23dd, customer=sa.store.retaildiscount.dto.CustomerDTO@c7811be, items=[BillItemDTO(productName=Gaming Laptop, unitPrice=894430.00, quantity=1.0), BillItemDTO(productName=Wireless Mouse, unitPrice=4994, quantity=4.3333), BillItemDTO(productName=USB Cable, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable2, unitPrice=4434.50, quantity=1.24345), BillItemDTO(productName=USB Cable4, unitPrice=4434.50, quantity=1.24345)], totalAmount=932612.74, netPayableAmount=606198.92, billDate=2025-08-30T22:30:31.466, discount=[DiscountDTO(discountAmount=279783.82, discountType=CUSTOMER_TYPE_DISCOUNT), DiscountDTO(discountAmount=46630, discountType=PRICE_DISCOUNT)])],[]> | Execution time: 12 ms
2025-08-30T22:36:50.207+03:00  INFO 887697 --- [retailDiscount] [main] s.s.r.controller.BillControllerTest      : Starting BillControllerTest using Java 24.0.1 with PID 887697 (started by aqannam in /mnt/c/Users/PC/IdeaProjects/retailDiscount)
2025-08-30T22:36:50.211+03:00  INFO 887697 --- [retailDiscount] [main] s.s.r.controller.BillControllerTest      : No active profile set, falling back to 1 default profile: "default"
2025-08-30T22:36:54.150+03:00  WARN 887697 --- [retailDiscount] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 20dc576b-a68e-429c-8b4f-aacbe2851e09

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-30T22:36:54.175+03:00  INFO 887697 --- [retailDiscount] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-08-30T22:36:54.432+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-30T22:36:54.850+03:00  INFO 887697 --- [retailDiscount] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-08-30T22:36:54.851+03:00  INFO 887697 --- [retailDiscount] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-08-30T22:36:54.853+03:00  INFO 887697 --- [retailDiscount] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-08-30T22:36:54.885+03:00  INFO 887697 --- [retailDiscount] [main] s.s.r.controller.BillControllerTest      : Started BillControllerTest in 5.638 seconds (process running for 7.94)
2025-08-30T22:36:54.999+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing PUT /api/bills
2025-08-30T22:36:55.024+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured PUT /api/bills
2025-08-30T22:36:55.047+03:00  WARN 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : HTTP method 'PUT' not supported for this request. Supported methods: [POST]
2025-08-30T22:36:55.141+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing DELETE /api/bills
2025-08-30T22:36:55.142+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured DELETE /api/bills
2025-08-30T22:36:55.143+03:00  WARN 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : HTTP method 'DELETE' not supported for this request. Supported methods: [POST]
2025-08-30T22:36:55.145+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing PATCH /api/bills
2025-08-30T22:36:55.146+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured PATCH /api/bills
2025-08-30T22:36:55.146+03:00  WARN 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : HTTP method 'PATCH' not supported for this request. Supported methods: [POST]
2025-08-30T22:36:55.265+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing POST /api/bills
2025-08-30T22:36:55.266+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured POST /api/bills
2025-08-30T22:36:55.379+03:00 ERROR 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Response status exception occurred: 

org.springframework.web.server.ResponseStatusException: 400 BAD_REQUEST "All bill items must have positive quantity and unit price"
	at sa.store.retaildiscount.controller.BillController.calculateDiscount(BillController.java:38) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.10.jar:6.2.10]
	at sa.store.retaildiscount.controller.BillControllerTest.shouldReturn400WhenItemHasZeroQuantity(BillControllerTest.java:194) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-08-30T22:36:55.443+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing POST /api/bills
2025-08-30T22:36:55.444+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured POST /api/bills
2025-08-30T22:36:55.445+03:00 ERROR 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Response status exception occurred: 

org.springframework.web.server.ResponseStatusException: 400 BAD_REQUEST "Customer information is required"
	at sa.store.retaildiscount.controller.BillController.calculateDiscount(BillController.java:42) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.10.jar:6.2.10]
	at sa.store.retaildiscount.controller.BillControllerTest.shouldReturn400WhenCustomerIsNull(BillControllerTest.java:242) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-08-30T22:36:55.474+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing GET /api/bills/bill123
2025-08-30T22:36:55.475+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured GET /api/bills/bill123
2025-08-30T22:36:55.517+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing GET /api/bills/bill123
2025-08-30T22:36:55.518+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured GET /api/bills/bill123
2025-08-30T22:36:55.677+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing POST /api/bills
2025-08-30T22:36:55.678+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured POST /api/bills
2025-08-30T22:36:55.679+03:00 ERROR 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Response status exception occurred: 

org.springframework.web.server.ResponseStatusException: 400 BAD_REQUEST "All bill items must have positive quantity and unit price"
	at sa.store.retaildiscount.controller.BillController.calculateDiscount(BillController.java:38) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.10.jar:6.2.10]
	at sa.store.retaildiscount.controller.BillControllerTest.shouldReturn400WhenItemHasNegativeUnitPrice(BillControllerTest.java:226) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-08-30T22:36:55.689+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing POST /api/bills
2025-08-30T22:36:55.689+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured POST /api/bills
2025-08-30T22:36:55.691+03:00 ERROR 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Response status exception occurred: 

org.springframework.web.server.ResponseStatusException: 400 BAD_REQUEST "Customer identity is required"
	at sa.store.retaildiscount.controller.BillController.calculateDiscount(BillController.java:46) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.10.jar:6.2.10]
	at sa.store.retaildiscount.controller.BillControllerTest.shouldReturn400WhenCustomerIdentityIsEmpty(BillControllerTest.java:274) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-08-30T22:36:55.703+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing POST /api/bills
2025-08-30T22:36:55.703+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured POST /api/bills
2025-08-30T22:36:55.718+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing POST /api/bills
2025-08-30T22:36:55.719+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured POST /api/bills
2025-08-30T22:36:55.720+03:00 ERROR 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Response status exception occurred: 

org.springframework.web.server.ResponseStatusException: 400 BAD_REQUEST "All bill items must have positive quantity and unit price"
	at sa.store.retaildiscount.controller.BillController.calculateDiscount(BillController.java:38) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.10.jar:6.2.10]
	at sa.store.retaildiscount.controller.BillControllerTest.shouldReturn400WhenItemHasNullUnitPrice(BillControllerTest.java:210) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-08-30T22:36:55.728+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing POST /api/bills
2025-08-30T22:36:55.729+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured POST /api/bills
2025-08-30T22:36:55.731+03:00  WARN 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Content type 'text/plain;charset=UTF-8' not supported. Supported media types: [application/json, application/yaml, application/*+json]
2025-08-30T22:36:55.745+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing POST /api/bills
2025-08-30T22:36:55.746+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured POST /api/bills
2025-08-30T22:36:55.747+03:00 ERROR 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Response status exception occurred: 

org.springframework.web.server.ResponseStatusException: 400 BAD_REQUEST "Bill items are required"
	at sa.store.retaildiscount.controller.BillController.calculateDiscount(BillController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.10.jar:6.2.10]
	at sa.store.retaildiscount.controller.BillControllerTest.shouldReturn400WhenItemsAreNull(BillControllerTest.java:146) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-08-30T22:36:55.759+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing GET /api/bills/customer/ID001
2025-08-30T22:36:55.760+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured GET /api/bills/customer/ID001
2025-08-30T22:36:55.761+03:00 ERROR 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Runtime error occurred: 

java.lang.RuntimeException: Database error
	at sa.store.retaildiscount.service.BillService.getBillsByCustomerId(BillService.java:37) ~[classes/:na]
	at sa.store.retaildiscount.controller.BillController.getBillsByCustomerId(BillController.java:62) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.10.jar:6.2.10]
	at sa.store.retaildiscount.controller.BillControllerTest.shouldHandleServiceExceptionInGetBillsByCustomerId(BillControllerTest.java:432) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-08-30T22:36:55.771+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing POST /api/bills
2025-08-30T22:36:55.772+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured POST /api/bills
2025-08-30T22:36:55.773+03:00 ERROR 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Response status exception occurred: 

org.springframework.web.server.ResponseStatusException: 400 BAD_REQUEST "Customer identity is required"
	at sa.store.retaildiscount.controller.BillController.calculateDiscount(BillController.java:46) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.10.jar:6.2.10]
	at sa.store.retaildiscount.controller.BillControllerTest.shouldReturn400WhenCustomerIdentityIsNull(BillControllerTest.java:258) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-08-30T22:36:55.784+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing GET /api/bills/customer/nonexistent001
2025-08-30T22:36:55.785+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured GET /api/bills/customer/nonexistent001
2025-08-30T22:36:55.786+03:00 ERROR 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Response status exception occurred: 

org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No bills found for customer ID: nonexistent001"
	at sa.store.retaildiscount.service.BillService.getBillsByCustomerId(BillService.java:37) ~[classes/:na]
	at sa.store.retaildiscount.controller.BillController.getBillsByCustomerId(BillController.java:62) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.10.jar:6.2.10]
	at sa.store.retaildiscount.controller.BillControllerTest.shouldReturn404WhenNoBillsFoundForCustomer(BillControllerTest.java:416) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-08-30T22:36:55.797+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing POST /api/bills
2025-08-30T22:36:55.797+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured POST /api/bills
2025-08-30T22:36:55.799+03:00 ERROR 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Runtime error occurred: 

java.lang.RuntimeException: Database error
	at sa.store.retaildiscount.service.DiscountService.processBill(DiscountService.java:27) ~[classes/:na]
	at sa.store.retaildiscount.controller.BillController.calculateDiscount(BillController.java:49) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.10.jar:6.2.10]
	at sa.store.retaildiscount.controller.BillControllerTest.shouldHandleServiceException(BillControllerTest.java:303) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-08-30T22:36:55.815+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing POST /api/bills
2025-08-30T22:36:55.816+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured POST /api/bills
2025-08-30T22:36:55.817+03:00 ERROR 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Response status exception occurred: 

org.springframework.web.server.ResponseStatusException: 400 BAD_REQUEST "All bill items must have positive quantity and unit price"
	at sa.store.retaildiscount.controller.BillController.calculateDiscount(BillController.java:38) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.10.jar:6.2.10]
	at sa.store.retaildiscount.controller.BillControllerTest.shouldReturn400WhenItemHasNegativeQuantity(BillControllerTest.java:178) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-08-30T22:36:55.825+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing GET /api/bills/nonexistent123
2025-08-30T22:36:55.826+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured GET /api/bills/nonexistent123
2025-08-30T22:36:55.827+03:00 ERROR 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Response status exception occurred: 

org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Bill not found with ID: nonexistent123"
	at sa.store.retaildiscount.service.BillService.getBillById(BillService.java:30) ~[classes/:na]
	at sa.store.retaildiscount.controller.BillController.getBillById(BillController.java:55) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.10.jar:6.2.10]
	at sa.store.retaildiscount.controller.BillControllerTest.shouldReturn404WhenBillNotFound(BillControllerTest.java:343) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-08-30T22:36:55.834+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing GET /api/bills/customer/ID001
2025-08-30T22:36:55.835+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured GET /api/bills/customer/ID001
2025-08-30T22:36:55.847+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing GET /api/bills/customer/ID001
2025-08-30T22:36:55.848+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured GET /api/bills/customer/ID001
2025-08-30T22:36:55.857+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Securing POST /api/bills
2025-08-30T22:36:55.858+03:00 DEBUG 887697 --- [retailDiscount] [main] o.s.security.web.FilterChainProxy        : Secured POST /api/bills
2025-08-30T22:36:55.859+03:00 ERROR 887697 --- [retailDiscount] [main] s.s.r.exception.GlobalExceptionHandler   : Response status exception occurred: 

org.springframework.web.server.ResponseStatusException: 400 BAD_REQUEST "Bill items are required"
	at sa.store.retaildiscount.controller.BillController.calculateDiscount(BillController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.2.10.jar:6.2.10]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.44.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at sa.store.retaildiscount.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.3.jar:6.5.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.10.jar:6.2.10]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.10.jar:6.2.10]
	at sa.store.retaildiscount.controller.BillControllerTest.shouldReturn400WhenItemsAreEmpty(BillControllerTest.java:162) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-08-30T22:47:07.606+03:00  INFO 35508 --- [retailDiscount] [cluster-ClusterId{value='68b3522287f0a91d3c2bca0a', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoNodeIsRecoveringException: Command failed with error 11600 (InterruptedAtShutdown): 'interrupted at shutdown' on server localhost:27017. The full response is {"ok": 0.0, "errmsg": "interrupted at shutdown", "code": 11600, "codeName": "InterruptedAtShutdown"}
	at com.mongodb.internal.connection.ProtocolHelper.createSpecialException(ProtocolHelper.java:264) ~[mongodb-driver-core-5.5.1.jar:na]
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:206) ~[mongodb-driver-core-5.5.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:520) ~[mongodb-driver-core-5.5.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:469) ~[mongodb-driver-core-5.5.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.lookupServerDescription(DefaultServerMonitor.java:249) ~[mongodb-driver-core-5.5.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.run(DefaultServerMonitor.java:176) ~[mongodb-driver-core-5.5.1.jar:na]

2025-08-30T22:47:17.611+03:00  INFO 35508 --- [retailDiscount] [cluster-ClusterId{value='68b3522287f0a91d3c2bca0a', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:85) ~[mongodb-driver-core-5.5.1.jar:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:85) ~[mongodb-driver-core-5.5.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:233) ~[mongodb-driver-core-5.5.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.lookupServerDescription(DefaultServerMonitor.java:219) ~[mongodb-driver-core-5.5.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.run(DefaultServerMonitor.java:176) ~[mongodb-driver-core-5.5.1.jar:na]
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:751) ~[na:na]
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76) ~[mongodb-driver-core-5.5.1.jar:na]
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:104) ~[mongodb-driver-core-5.5.1.jar:na]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:79) ~[mongodb-driver-core-5.5.1.jar:na]
	... 3 common frames omitted

2025-08-30T22:47:24.138+03:00  INFO 35508 --- [retailDiscount] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-08-30T22:47:24.151+03:00  INFO 35508 --- [retailDiscount] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-08-30T23:00:20.630+03:00  INFO 1188 --- [retailDiscount] [main] s.s.r.RetailDiscountApplication          : Starting RetailDiscountApplication using Java 21.0.1 with PID 1188 (C:\Users\PC\IdeaProjects\retailDiscount\target\classes started by PC in C:\Users\PC\IdeaProjects\retailDiscount)
2025-08-30T23:00:20.632+03:00  INFO 1188 --- [retailDiscount] [main] s.s.r.RetailDiscountApplication          : No active profile set, falling back to 1 default profile: "default"
2025-08-30T23:00:21.203+03:00  INFO 1188 --- [retailDiscount] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-30T23:00:21.236+03:00  INFO 1188 --- [retailDiscount] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 2 MongoDB repository interfaces.
2025-08-30T23:00:21.589+03:00  INFO 1188 --- [retailDiscount] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-30T23:00:21.598+03:00  INFO 1188 --- [retailDiscount] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-30T23:00:21.599+03:00  INFO 1188 --- [retailDiscount] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-30T23:00:21.635+03:00  INFO 1188 --- [retailDiscount] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-30T23:00:21.635+03:00  INFO 1188 --- [retailDiscount] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 980 ms
2025-08-30T23:00:21.846+03:00  INFO 1188 --- [retailDiscount] [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-data", "version": "5.5.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/21.0.1+12-29"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='root', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@7c3c3d67, com.mongodb.Jep395RecordCodecProvider@1e258d3b, com.mongodb.KotlinCodecProvider@2b6fcca1]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=3000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=3000, readTimeoutMS=3000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=20, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=30000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-08-30T23:00:21.855+03:00  INFO 1188 --- [retailDiscount] [cluster-ClusterId{value='68b358556b55b751b98a987a', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=21, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=12780700, minRoundTripTimeNanos=0}
2025-08-30T23:00:22.365+03:00  INFO 1188 --- [retailDiscount] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-08-30T23:00:22.381+03:00  WARN 1188 --- [retailDiscount] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: fcee6b50-a8ed-4fbc-b50b-e2b55e711737

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-30T23:00:22.385+03:00  INFO 1188 --- [retailDiscount] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-08-30T23:00:22.440+03:00 DEBUG 1188 --- [retailDiscount] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-30T23:00:22.690+03:00  WARN 1188 --- [retailDiscount] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-30T23:00:22.703+03:00  INFO 1188 --- [retailDiscount] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-30T23:00:22.716+03:00 ERROR 1188 --- [retailDiscount] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

